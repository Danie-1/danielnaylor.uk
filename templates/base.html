<!DOCTYPE html>
<html lang="en">
  <head>
    {% block head %}
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

      {% block headextra %}{% endblock %}
      {% block styles %}
        {{ bootstrap.load_css() }}
        <style>
          :root {
            color-scheme: light dark;
            --light-gray: #aaaaaa;
            --extra-light-gray: #eeeeee;
            --extra-dark-gray: #1d2225;
            --navbar-toggler-color: #56595d;
          }
          nav {
            background-color: var(--bs-light);
          }
          [data-bs-theme="dark"] {
            nav {
              background-color: var(--extra-dark-gray);
            }
            --navbar-toggler-color: #999b9d;
          }
          .navbar-toggler {
            padding: 0.25rem 0.75rem;
            width: 3.375rem;
            height: 2.375rem;
            position: relative;
          }
          .navbar-toggler span {
            position: absolute;
            height: 0.15rem;
            width: 1.5rem;
            background: var(--navbar-toggler-color);
            border-radius: 0.75rem;
            transition: 0.2s ease-in-out;
            left: 0.925rem;
          }
          .navbar-toggler.collapsed span:nth-child(1) {
            top: 0.6rem;
            transform: rotate(0deg);
          }
          .navbar-toggler.collapsed span:nth-child(2) {
            top: 1.1rem;
            opacity: 1;
            transform: rotate(0deg);
          }
          .navbar-toggler.collapsed span:nth-child(3) {
            top: 1.6rem;
            transform: rotate(0deg);
          }
          .navbar-toggler span:nth-child(1) {
            top: 1.1rem;
            transform: rotate(45deg);
          }
          .navbar-toggler span:nth-child(2) {
            opacity: 0;
          }
          .navbar-toggler span:nth-child(3) {
            top: 1.1rem;
            transform: rotate(-45deg);
          }
        </style>
      {% endblock %}

      <title>{% block title %}{% endblock %}</title>
    {% endblock %}
  </head>
  <body>
    <nav class="navbar sticky-top px-md-3 mb-3">
      {% block navbar %}
        {% include "navbar.html" %}
      {% endblock %}
    </nav>
    <div id="content" class="container-md px-4 pb-3">
      {% block content %}{% endblock %}
    </div>
    {% block scripts %}
      {{ bootstrap.load_js() }}
      <script>
        function setTheme() {
          if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.setAttribute("data-bs-theme", "dark");
          } else {
            document.documentElement.setAttribute("data-bs-theme", "light");
          }
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setTheme)
        setTheme()
      </script>
    {% endblock %}
  </body>
</html>
