<!DOCTYPE html>
<html lang="en">
  <head>
    {% block head %}
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

      {% block styles %}
        {{ bootstrap.load_css() }}
        <style>
          :root {
            color-scheme: light dark;
            --light-gray: #aaaaaa;
            --extra-light-gray: #eeeeee;
            --extra-dark-gray: #1d2225;
          }
          nav {
            background-color: var(--bs-light);
          }
          [data-bs-theme="dark"] {
            nav {
              background-color: var(--extra-dark-gray);
            }
          }
        </style>
      {% endblock %}

      <title>{% block title %}{% endblock %}</title>
    {% endblock %}
  </head>
  <body>
    {% block navbar %}{% include "navbar.html" %}{% endblock %}
    <div class="container-md px-4">
      {% block content %}{% endblock %}
    </div>
    {% block scripts %}
      {{ bootstrap.load_js() }}
      <script>
        function setTheme() {
          if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.setAttribute("data-bs-theme", "dark");
          } else {
            document.documentElement.setAttribute("data-bs-theme", "light");
          }
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setTheme)
        setTheme()
      </script>
    {% endblock %}
  </body>
</html>
